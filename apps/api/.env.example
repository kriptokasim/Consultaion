# API Configuration Template
# Copy this to .env and fill in your values

# =============================================================================
# ENVIRONMENT
# =============================================================================
ENV=development  # Options: development, staging, production
# APP_ENV is derived automatically: local, staging, production

# =============================================================================
# DATABASE
# =============================================================================
DATABASE_URL=sqlite:///./consultaion.db
# Production: postgresql://user:password@host:5432/dbname

# =============================================================================
# REDIS (Optional, for rate limiting and SSE)
# =============================================================================
REDIS_URL=
# Example: redis://localhost:6379/0
# Production: Use Render Redis or external service

# =============================================================================
# SECURITY
# =============================================================================
JWT_SECRET=CHANGE_ME_IN_PRODUCTION
# MUST be 32+ characters in production

DISABLE_AUTH=0
ENABLE_CSRF=1
ENABLE_SEC_HEADERS=1

# =============================================================================
# CORS & WEB APP
# =============================================================================
WEB_APP_ORIGIN=http://localhost:3000
# Production: https://consultaion.vercel.app

CORS_ORIGINS=http://localhost:3000
# Comma-separated for multiple: https://app.example.com,https://www.example.com

# =============================================================================
# LLM PROVIDER KEYS
# =============================================================================
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
GEMINI_API_KEY=
GOOGLE_API_KEY=
OPENROUTER_API_KEY=

# LLM Timeouts (Patchset 54.0)
LLM_TIMEOUT_SECONDS=30
LLM_MAX_RETRIES=1

# =============================================================================
# GOOGLE OAUTH
# =============================================================================
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URL=http://localhost:8000/auth/google/callback
# Production: https://api.consultaion.app/auth/google/callback

# =============================================================================
# OBSERVABILITY - Langfuse
# =============================================================================
LANGFUSE_PUBLIC_KEY=
LANGFUSE_SECRET_KEY=
LANGFUSE_HOST=https://cloud.langfuse.com
ENABLE_LANGFUSE=0

# =============================================================================
# OBSERVABILITY - PostHog
# =============================================================================
POSTHOG_API_KEY=
POSTHOG_HOST=https://app.posthog.com
ENABLE_POSTHOG=0

# =============================================================================
# OBSERVABILITY - Sentry
# =============================================================================
SENTRY_DSN=
SENTRY_ENV=local
SENTRY_SAMPLE_RATE=0.1

# =============================================================================
# NOTIFICATIONS
# =============================================================================
# Email summaries (Resend)
RESEND_API_KEY=
ENABLE_EMAIL_SUMMARIES=0

# Slack alerts
SLACK_WEBHOOK_URL=
ENABLE_SLACK_ALERTS=0

# =============================================================================
# INTEGRATIONS
# =============================================================================
# Giphy
GIPHY_API_KEY=
ENABLE_GIPHY=0

# Stripe (billing)
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_CONVERSATION_MODE=0
ENABLE_METRICS=1

# Patchset 77-80: Conversation V2 with enhanced voting
# IMPORTANT: Default is OFF in production. Enable after deploy verification.
# Rollback: Simply set to 0 to disable all V2 features without DB rollback.
ENABLE_CONVERSATION_V2=0

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_BACKEND=memory  # Options: memory, redis

# Production limits (applied when ENV != development/local)
PROD_RL_WINDOW=60
PROD_RL_MAX_CALLS=60
PROD_RL_DEBATE_CREATE_WINDOW=60
PROD_RL_DEBATE_CREATE_MAX_CALLS=10

# Development limits
DEV_RL_WINDOW=60
DEV_RL_MAX_CALLS=300
DEV_RL_DEBATE_CREATE_WINDOW=60
DEV_RL_DEBATE_CREATE_MAX_CALLS=50

# =============================================================================
# SERVER (Gunicorn/Uvicorn)
# =============================================================================
WEB_CONCURRENCY=
GUNICORN_WORKERS=
# Leave empty for auto-detection

# =============================================================================
# SSE BACKEND
# =============================================================================
SSE_BACKEND=memory  # Options: memory, redis
# Use redis in production for multi-worker setups

# =============================================================================
# MISC
# =============================================================================
DB_ECHO=0
USE_MOCK=0
REQUIRE_REAL_LLM=1
APP_VERSION=1.0.0
